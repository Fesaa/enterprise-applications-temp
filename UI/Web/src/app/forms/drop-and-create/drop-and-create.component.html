<div (click)="toggle()" class="min-w-96 relative custom-scrollbar">

  <div class="flex flex-col space-y-3 border rounded-lg border-gray-300 bg-white text-gray-800 text-base shadow-lg p-3">
    <div class="flex items-center">
      <div class="flex flex-wrap items-center justify-start w-3/5">
        @for (t of selected; track $index) {
          <div class="flex items-center my-2 mx-2 space-x-2 py-1 px-3 bg-gray-100 text-gray-800 rounded-md border border-gray-300 shadow-sm">
            <span>{{ mapper(t) }}</span>
            <ng-icon name="heroXMark" size="16" (click)="remove(t)" class="cursor-pointer hover:text-red-500"></ng-icon>
          </div>
        }
      </div>

      <input
        class="ml-auto w-2/5 bg-gray-100 text-gray-800 placeholder-gray-500 focus:border-none p-2 rounded-md outline-none cursor-text"
        (input)="textChange($event)"
        [value]="newInputText"
        placeholder="create..."
      >
    </div>


    <div class="flex flex-col space-y-2 max-h-40 overflow-y-auto py-2 px-3">

      @if (newInputText !== "") {
        <div
          (click)="addNew()"
          class="hover:bg-blue-100 bg-blue-200 text-blue-900 text-center py-2 px-3 rounded-md cursor-pointer transition-all ease-in-out duration-150"
        >
          Add {{ newInputText }}...
        </div>
      }

      @for (opt of toShow(); track $index) {
        <div
          (click)="add(opt)"
          class="hover:bg-gray-200 bg-gray-100 text-gray-800 py-2 px-3 rounded-md cursor-pointer transition-all ease-in-out duration-150"
        >
          {{ mapper(opt) }}
        </div>
      }
    </div>

  </div>
</div>
